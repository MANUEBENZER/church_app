<style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, sans-serif;
}

.layout {
    display: flex;
    height: 100vh;
}

/* Sidebar */
.sidebar {
    width: 250px;
    background: #1e293b;
    color: white;
    transition: width 0.3s ease;

    position: fixed;      /* KEY */
    top: 0;
    left: 0;
    height: 100vh;        /* Full screen */
    overflow-y: auto;     /* Scroll if menu grows */
}
.sidebar.collapsed {
    width: 70px;
}

.sidebar.collapsed ~ .content {
    margin-left: 70px;
}

.sidebar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: #0f172a;
}

body {
    overflow-x: hidden;
}

.logo {
    font-size: 18px;
    font-weight: bold;
}

.toggle-btn {
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
}

.menu {
    list-style: none;
}

.menu li a {
    display: block;
    padding: 15px;
    color: white;
    text-decoration: none;
    white-space: nowrap;
}

.menu li a:hover {
    background: #334155;
}

/* Main content */

.content {
    margin-left: 250px;   /* SAME as sidebar width */
    padding: 20px;
    background: #f1f5f9;
    min-height: 100vh;
}



/* Submenu container */
.has-submenu .submenu {
    list-style: none;
    padding-left: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease;
    background: #0f172a;
}

/* Expanded submenu */
.has-submenu.open .submenu {
    max-height: 300px; /* enough for items */
}

/* Submenu links */
.submenu li a {
    padding: 12px 20px 12px 45px;
    display: block;
    color: #cbd5e1;
    font-size: 14px;
}

.submenu li a:hover,
.submenu li a.active {
    background: #1d4ed8;
    color: #fff;
}

/* Arrow rotation */
.has-submenu .arrow {
    margin-left: auto;
    transition: transform 0.3s ease;
}

.has-submenu.open .arrow {
    transform: rotate(180deg);
}

</style>
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <span class="logo">MyApp</span>
        <button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>
    </div>

    <ul class="menu-item has-submenu">
        <li><a href="{% url 'members:post_login_redirect' %}">ğŸ  Dashboard</a></li>
        <li><a href="{% url 'members:member_list' %}">ğŸ‘¥ Members</a></li>
        <li><a href="{% url 'members:add_attendance' %}">ğŸ“… Attendance</a></li>
        <li><a href="{% url 'members:promises_dashboard' %}">ğŸ“¢ Promise</a></li>
        <li><a href="{% url 'members:reports' %}">ğŸ“Š Reports</a></li>
        <a href="{% url 'members:finance_dashboard' %}" class="submenu-toggle">
        <i class="bi bi-cash-stack"></i>
        <span>ğŸ’°Finance</span>
        <i class="bi bi-chevron-down arrow"></i>
        </a>

        <ul class="submenu">
            <li>
                <a href="{% url 'members:finance_dashboard' %}" data-section="welfare">Overview</a>
            </li>
            <li>
                <a href="#" data-section="thanksgiving">Thanksgiving</a>
            </li>
            <li>
                <a href="#" data-section="welfare">Welfare</a>
            </li>
            <li>
                <a href="{% url 'members:tithes_dashboard' %}" data-section="tithes">Tithes</a>
            </li>
            <li>
                <a href="#" data-section="offering">Offering</a>
            </li>
            <li>
                <a href="#" data-section="ntintam">Ntintam</a>
            </li>
        </ul>
        <!--<li><a href="{% url 'members:finance_dashboard' %}">ğŸ’° Finance</a></li>--> 
        <li><a href="{% url 'members:secretary_settings' %}">âš™ Settings</a></li>
        <li><a href="{% url 'members:announcement_dashboard' %}">ğŸšª Announcement</a></li> 
    </ul>
     <br>





    <h3>Secretary Dashboard</h3>
<p>Welcome, {{ user.username }}!</p>
</aside>
<script>
function showSection(sectionId) {
    document.querySelectorAll('.finance-section').forEach(section => {
        section.classList.add('d-none');
    });

    document.getElementById(sectionId).classList.remove('d-none');

    document.querySelectorAll('.sidebar .nav-link').forEach(link => {
        link.classList.remove('active');
    });

    event.target.classList.add('active');
}


document.querySelectorAll('.submenu-toggle').forEach(toggle => {
    toggle.addEventListener('click', function (e) {
        e.preventDefault();
        this.parentElement.classList.toggle('open');
    });
});

// Active submenu item highlight
document.querySelectorAll('.submenu a').forEach(link => {
    link.addEventListener('click', function () {

        // Remove all active states
        document.querySelectorAll('.menu a').forEach(a =>
            a.classList.remove('active')
        );

        // Activate clicked item
        this.classList.add('active');

        // Keep parent open
        this.closest('.has-submenu').classList.add('open');
    });
});

document.querySelectorAll('[data-section]').forEach(link => {
    link.addEventListener('click', function () {
        const target = this.dataset.section;

        document.querySelectorAll('.finance-section').forEach(section =>
            section.classList.add('d-none')
        );

        document.getElementById(target).classList.remove('d-none');
    });
});

</script>

   